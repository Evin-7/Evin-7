{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      dialog: false,\n      imageUploadDialog: false,\n      newText: \"\",\n      texts: [],\n      selectedImage: null,\n      images: [] // Array to store the list of uploaded images\n    };\n  },\n\n  mounted() {\n    this.SliderContent();\n    this.getUploadedImages();\n  },\n  methods: {\n    openDialog() {\n      this.dialog = true;\n    },\n    closeDialog() {\n      this.dialog = false;\n      this.newText = \"\";\n    },\n    openImageUploadDialog() {\n      this.imageUploadDialog = true;\n    },\n    closeImageUploadDialog() {\n      this.imageUploadDialog = false;\n      this.selectedImage = null;\n    },\n    handleImageUpload(event) {\n      this.selectedImage = event.target.files[0];\n    },\n    uploadImage() {\n      // Use FormData to send the image file\n      const formData = new FormData();\n      formData.append(\"image\", this.selectedImage);\n\n      // Call the API to upload the image\n      axios.post(\"http://127.0.0.1:5000/api/upload-image\", formData).then(response => {\n        console.log(response.data.message);\n        // Update the array of images with the new image\n        this.getUploadedImages();\n        this.closeImageUploadDialog();\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n    addText() {\n      axios.post(\"http://127.0.0.1:5000/api/add-text\", {\n        new_text: this.newText\n      }).then(response => {\n        console.log(response.data.message);\n        this.SliderContent();\n        this.closeDialog();\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n    SliderContent() {\n      axios.get(\"http://127.0.0.1:5000/api/get-updated-texts\").then(response => {\n        this.texts = response.data;\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n    getUploadedImages() {\n      axios.get(\"http://127.0.0.1:5000/api/images\").then(response => {\n        this.images = response.data;\n      }).catch(err => {\n        console.error(err);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AA6DA;AAEA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;;EAEAC;IACA;IACA;EACA;EAEAC;IACAC;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;MACA;MACAC;;MAEA;MACAC,+DACAC;QACAC;QACA;QACA;QACA;MACA,GACAC;QACAD;MACA;IACA;IAEAE;MACAJ;QAAAK;MAAA,GACAJ;QACAC;QACA;QACA;MACA,GACAC;QACAD;MACA;IACA;IAEAI;MACAN,yDACAC;QACA;MACA,GACAE;QACAD;MACA;IACA;IAEAK;MACAP,8CACAC;QACA;MACA,GACAE;QACAD;MACA;IACA;EACA;AACA","names":["data","dialog","imageUploadDialog","newText","texts","selectedImage","images","mounted","methods","openDialog","closeDialog","openImageUploadDialog","closeImageUploadDialog","handleImageUpload","uploadImage","formData","axios","then","console","catch","addText","new_text","SliderContent","getUploadedImages"],"sourceRoot":"src/components","sources":["HomePage.vue"],"sourcesContent":["<template>\n  <div>\n    <v-layout wrap>\n      <v-flex xs2> jkjk </v-flex>\n      <v-flex xs3>\n        <v-btn @click=\"openDialog\">Add Texts</v-btn>\n        <v-btn @click=\"openImageUploadDialog\">Upload Image</v-btn>\n      </v-flex>\n    </v-layout>\n\n    <!-- Dialog for adding text -->\n    <v-dialog v-model=\"dialog\" max-width=\"600px\">\n      <v-card>\n        <v-card-title>Add Text</v-card-title>\n        <v-card-text>\n          <v-text-field v-model=\"newText\" label=\"Enter Text\"></v-text-field>\n        </v-card-text>\n        <v-card-actions>\n          <v-btn @click=\"closeDialog\">Cancel</v-btn>\n          <v-btn @click=\"addText\" color=\"primary\">Add</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <!-- Dialog for image upload -->\n    <v-dialog v-model=\"imageUploadDialog\" max-width=\"600px\">\n      <v-card>\n        <v-card-title>Upload Image</v-card-title>\n        <v-card-text>\n          <input type=\"file\" @change=\"handleImageUpload\">\n        </v-card-text>\n        <v-card-actions>\n          <v-btn @click=\"closeImageUploadDialog\">Cancel</v-btn>\n          <v-btn @click=\"uploadImage\" color=\"primary\">Upload</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <!-- Display the list of texts -->\n    <v-layout wrap>\n      <v-flex xs12>\n        <ul>\n          <li v-for=\"text in texts\" :key=\"text\">{{ text }}</li>\n        </ul>\n      </v-flex>\n    </v-layout>\n\n    <!-- Display the list of uploaded images -->\n    <v-layout wrap>\n      <v-flex xs12>\n        <v-row>\n          <v-col v-for=\"image in images\" :key=\"image\" cols=\"12\" md=\"3\">\n            <v-img :src=\"'http://127.0.0.1:5000/api/images/' + image\" aspect-ratio=\"1.5\"></v-img>\n          </v-col>\n        </v-row>\n      </v-flex>\n    </v-layout>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      dialog: false,\n      imageUploadDialog: false,\n      newText: \"\",\n      texts: [],\n      selectedImage: null,\n      images: [], // Array to store the list of uploaded images\n    };\n  },\n\n  mounted() {\n    this.SliderContent();\n    this.getUploadedImages();\n  },\n\n  methods: {\n    openDialog() {\n      this.dialog = true;\n    },\n\n    closeDialog() {\n      this.dialog = false;\n      this.newText = \"\";\n    },\n\n    openImageUploadDialog() {\n      this.imageUploadDialog = true;\n    },\n\n    closeImageUploadDialog() {\n      this.imageUploadDialog = false;\n      this.selectedImage = null;\n    },\n\n    handleImageUpload(event) {\n      this.selectedImage = event.target.files[0];\n    },\n\n    uploadImage() {\n      // Use FormData to send the image file\n      const formData = new FormData();\n      formData.append(\"image\", this.selectedImage);\n\n      // Call the API to upload the image\n      axios.post(\"http://127.0.0.1:5000/api/upload-image\", formData)\n        .then((response) => {\n          console.log(response.data.message);\n          // Update the array of images with the new image\n          this.getUploadedImages();\n          this.closeImageUploadDialog();\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n\n    addText() {\n      axios.post(\"http://127.0.0.1:5000/api/add-text\", { new_text: this.newText })\n        .then((response) => {\n          console.log(response.data.message);\n          this.SliderContent();\n          this.closeDialog();\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n\n    SliderContent() {\n      axios.get(\"http://127.0.0.1:5000/api/get-updated-texts\")\n        .then((response) => {\n          this.texts = response.data;\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n\n    getUploadedImages() {\n      axios.get(\"http://127.0.0.1:5000/api/images\")\n        .then((response) => {\n          this.images = response.data;\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}